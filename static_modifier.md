# Модификатор `static`

Данный модификатор применим к полям, методам, классам, вложенным классам и логическим блокам. Данный
модификатор указывает на привязку субъекта к текущему классу.

## Статические поля

Когда поле класса объявлено как статическое, оно доступно до создания любых объектов его класса и без
ссылки на какой-нибудь объект. При объявлении объектов класса этих полей их копии не создаются. Вместо
этого все экземпляры класса совместно используют одно и то же статическое поле:

```java
public class Main {
    public static void main(String[] args) {
        int a1;
        int a2;
        // Создаются два объекта одного класса
        DemoStatic stat1 = new DemoStatic();
        DemoStatic stat2 = new DemoStatic();

        a1 = stat1.getA();
        a2 = stat2.getA();

        System.out.println("переменная 'a' в первом объекте: " + a1);
        System.out.println("переменная 'a' во втором объекте: " + a2);
        stat1.setA(10);
        // После изменения переменной 'a' через первый объект, переменная 'a' во втором объекте так же изменится
        // т.к. два этих объекта ссылаются на одно статическое поле своего класса
        a1 = stat1.getA();
        a2 = stat2.getA();
        System.out.println("переменная 'a' после метода 'stat1.setA(10)' в первом объекте : " + a1);
        System.out.println("переменная 'a' после stat1.setA(10) во втором объекте: " + a2);
    }
}

class DemoStatic {
    private static int a;   // Переменная a - статическая
    DemoStatic(){
        a = 5;
    }
    public int getA() {
        return this.a;
    }

    public void setA(int a) {
        this.a = a;
    }
}
```
Вывод:
```
переменная 'a' в первом объекте: 5
переменная 'a' во втором объекте: 5
переменная 'a' после метода 'stat1.setA(10)' в первом объекте : 10
переменная 'a' после stat1.setA(10) во втором объекте: 10
```

__*Примечание к примеру*__:  
*Насколько я понял, обращаться к статическим переменным через экземпляры класса - дурной тон, и лучше это делать
через класс.*

## Статический блок

Статический блок выполняется всего один раз при первой загрузке класса (т.е. при первом создании
экземпляра класса, или при первом обращении к статическим полям/методам класса) и служит для инициализации
внутренних статических переменных (можно также реализовать блок инициализации для нестатических переменных)

```java
public class Car {
    static int km;
    
    static {
        km = 150;
    }
}
``` 

## Статические методы

Статические методы также привязаны к классу, а не к объекту. На методы объявленные как `static` накладываются
следующие ограничения: 
* Они могут непосредственно вызывать только другие статические методы;
* Им непосредственно доступны только статические переменные;
* Они никоим образом не могут делать ссылки типа `this` или `super`.

```java
public class Main {
    public static void main(String[] args) {
        staticShow();
        // show();  Ошибка! Нельзя вызывать нон-статик метод.
    }
    public void show() {    // Не статический метод
        System.out.println("Hello world!");
    }
    public static void staticShow() {   // Статический метод
        System.out.println("Static Hello world");
    }
}
```